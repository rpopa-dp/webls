# `webls`

Simple file browser over HTTP

Demo: http://webls.x4204.xyz/fs/


## Setup

- create virtual environment
```
virtualenv .venv --python $(which python3.12)
```

- enter virtual environment
```
. .venv/bin/activate
```

- install dependencies
```
pip install -r requirements.txt
```

- setup demo directory for development and testing
```
sudo bash setupdemo.sh
```

- run tests
```
python -m tests -v
```

- run app
```
python -m webls --help
python -m webls
```

## Docker

- build image
```
docker build -t webls:local .
```

- run container and serve the `demo/` directory
```
docker run --rm --network=host webls:local
```

- run container and serve a specific host directory
```
docker run --rm --network=host --volume /path/to/dir:/app/demo webls:local
```


## TODO

- run docker container as non-root user

- ?migrate to werkzeug
  - https://werkzeug.palletsprojects.com/en/3.0.x/

- ?support downloading a directory (with confirmation; zip)


## NOTES

- `templates/highlight.css` is generated by:
```python
from pygments.formatters import HtmlFormatter
print(HtmlFormatter().get_style_defs('.highlight'))
```
