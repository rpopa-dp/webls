# `webls`

Simple file browser over HTTP

Demo: http://webls.x4204.xyz/fs/


## Setup

- create virtual environment
```
virtualenv .venv --python $(which python3.12)
```

- enter virtual environment
```
. .venv/bin/activate
```

- install dependencies
```
pip install -r requirements.txt
```

- setup `storage/` directory for development and testing
```
sudo bash setupstorage.sh
```

- run tests
```
python -m tests -v
```

- run app
```
python -m webls --help
python -m webls
```

## Docker

- build image
```
docker build \
  --build-arg UID=$(id -u) \
  --build-arg GID=$(id -g) \
  --tag webls:local .
```

- run container and serve a specific host directory
```
docker run \
  --rm \
  --network=host \
  --volume /path/to/dir:/home/webls/storage \
  webls:local
```


## TODO

- ?migrate to werkzeug
  - https://werkzeug.palletsprojects.com/en/3.0.x/

- ?support downloading a directory (with confirmation; zip)


## NOTES

- `templates/highlight.css` is generated by:
```python
from pygments.formatters import HtmlFormatter
print(HtmlFormatter().get_style_defs('.highlight'))
```
